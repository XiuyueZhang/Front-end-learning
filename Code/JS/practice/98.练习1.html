<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }

        p{
            display: inline-block;
        }

        div{
            padding:5px;
        }

        input{
            margin-right: 5px;
        }
    </style>
    <script>
        window.onload = function(){
            // get button
            var checkedAllBtn = document.getElementById("checkedAll");
            var checkedNoneBtn = document.getElementById("checkedNone");
            var checkedOppoBtn = document.getElementById("checkedOppo");
            var submitBtn = document.getElementById("submit");
            var checkbox = document.getElementsByName("test")[0];

            // get checkbox list - 4 elements
            var items = document.getElementsByName("items");

            checkedAllBtn.onclick = function(){
                for(var i=0; i<items.length; i++){
                    items[i].checked = true;
                }
                checkbox.checked = true;
            };

            checkedNoneBtn.onclick = function(){
                for(var i=0; i<items.length; i++){
                    items[i].checked = false;
                }
                checkbox.checked = false;
            };

            checkedOppo.onclick = function(){
                checkbox.checked = true;
                for(var i=0; i<items.length; i++){
                    // if(items[i].checked==true){
                    //     items[i].checked = false;
                    // }else{
                    //     items[i].checked = true;
                    // }
                    items[i].checked = !items[i].checked;

                    if(!items[i].checked){
                        checkbox.checked = false;
                    }


                }
            };

            submitBtn.onclick = function(){
                for(var i=0; i<items.length; i++){
                    if(items[i].checked==true){
                        alert(items[i].value);
                    }
                }    
            }

            checkbox.onclick = function(){
                for(var i=0; i<items.length; i++){
                    items[i].checked = this.checked;
                    // 在事件的响应函数中，响应函数是给谁绑定的，this就是谁。
                }
            }

            for(var i=0; i<items.length; i++){
                items[i].onclick = function(){

                    //设置checkbox为选中状态
                    checkbox.checked = true;

                    for(var j=0; j<items.length; j++){
                        if(!items[j].checked){
                            checkbox.checked = false;
                            break;
                        }
                    }
                }
            }



            

        };
    </script>
</head>
<body>
    <form action="">
        <div id="question">
            <p>你爱好的运动是？</p><input type="checkbox" name="test" value="">全选/全不选
        </div>

        <div id="option">
            <input type="checkbox" name="items" value="football">足球
            <input type="checkbox" name="items" value="basketball">篮球
            <input type="checkbox" name="items" value="badminton">羽毛球
            <input type="checkbox" name="items" value="pingpang">乒乓球
        </div>

        <div id="select">
            <input type="button" id="checkedAll" value="全选">
            <input type="button" id="checkedNone" value="全不选">
            <input type="button" id="checkedOppo" value="反选">
            <input type="button" id="submit" value="提交">
        </div>

    </form>
</body>
</html>